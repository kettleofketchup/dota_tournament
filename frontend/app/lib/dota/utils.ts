import type { PlayerMatchStats } from './schemas';

export function splitPlayersByTeam(players: PlayerMatchStats[]) {
  return {
    radiant: players.filter((p) => p.player_slot < 128),
    dire: players.filter((p) => p.player_slot >= 128),
  };
}

export function formatDuration(seconds: number): string {
  const mins = Math.floor(seconds / 60);
  const secs = seconds % 60;
  return `${mins}:${secs.toString().padStart(2, '0')}`;
}

export function formatMatchDate(timestamp: number): string {
  return new Date(timestamp * 1000).toLocaleDateString(undefined, {
    month: 'short',
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit',
  });
}

export function formatNumber(n: number): string {
  if (n >= 1000) return `${(n / 1000).toFixed(1)}k`;
  return n.toString();
}
